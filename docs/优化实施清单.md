# OpenClaw Deploy ä¼˜åŒ–å®æ–½æ¸…å•

> **ç‰ˆæœ¬**: 3.0 (åŸºäºå®˜æ–¹æ–‡æ¡£ä¿®è®¢)  
> **æ—¥æœŸ**: 2026-02-05  
> **çŠ¶æ€**: å‡†å¤‡å®æ–½

---

## ğŸ“Š ä¼˜åŒ–æ¸…å•æ€»è§ˆ

åŸºäºå®˜æ–¹æ–‡æ¡£ (docs.openclaw.ai + clawd.org.cn) å’Œå®æˆ˜ç»éªŒï¼Œå…±è¯†åˆ«å‡º **15 ä¸ªä¼˜åŒ–é¡¹**ï¼Œåˆ†ä¸º 4 ä¸ªä¼˜å…ˆçº§ã€‚

### ä¼˜åŒ–ç»Ÿè®¡
- **P0 (å¿…é¡»ä¿®æ­£)**: 6 é¡¹ - é…ç½®ç»“æ„ä¸å®˜æ–¹ä¸ç¬¦
- **P1 (å¼ºçƒˆæ¨è)**: 5 é¡¹ - Token ä¼˜åŒ–å’Œæ€§èƒ½æå‡
- **P2 (å»ºè®®å®æ–½)**: 3 é¡¹ - ç”¨æˆ·ä½“éªŒå¢å¼º
- **P3 (å¯é€‰å¢å¼º)**: 1 é¡¹ - é«˜çº§åŠŸèƒ½

---

## ğŸ”´ P0: å¿…é¡»ä¿®æ­£é¡¹ï¼ˆé…ç½®ç»“æ„ï¼‰

### P0-1: ä¿®æ­£é…ç½®æ–‡ä»¶ç»“æ„

**é—®é¢˜**: å½“å‰ `install.sh` ç”Ÿæˆçš„é…ç½®ç»“æ„ä¸å®Œæ•´

**å½“å‰ç”Ÿæˆçš„é…ç½®**:
```json
{
  "gateway": {
    "mode": "local",
    "auth": { "mode": "token", "token": "xxx" },
    "port": 18789,
    "bind": "loopback",
    "tailscale": { "mode": "off", "resetOnExit": false }
  }
}
```

**å®˜æ–¹æ ‡å‡†é…ç½®**:
```json
{
  "agents": {
    "defaults": {
      "workspace": "~/.openclaw/workspace",
      "model": {
        "primary": "anthropic/claude-sonnet-4-5",
        "fallbacks": ["openai/gpt-5-mini"]
      },
      "contextTokens": 200000,
      "maxConcurrent": 3
    }
  },
  "models": {
    "providers": {
      "anthropic": { "apiKey": "${ANTHROPIC_API_KEY}" },
      "openai": { "apiKey": "${OPENAI_API_KEY}" }
    }
  },
  "channels": {
    "whatsapp": {
      "dmPolicy": "pairing",
      "allowFrom": ["+15555550123"]
    }
  },
  "gateway": {
    "port": 18789,
    "bind": "loopback",
    "auth": { "mode": "token", "token": "${OPENCLAW_GATEWAY_TOKEN}" }
  }
}
```

**ä¿®æ”¹ä½ç½®**: `install.sh` ç¬¬ 562-588 è¡Œ

**å®æ–½æ­¥éª¤**:
1. ä¿®æ”¹ `generate_smart_config()` å‡½æ•°
2. æ·»åŠ  `agents.defaults` é…ç½®
3. æ·»åŠ  `models.providers` é…ç½®
4. ä½¿ç”¨ç¯å¢ƒå˜é‡æ›¿æ¢ `${VAR_NAME}`

**éªŒè¯æ–¹æ³•**:
```bash
openclaw doctor
jq . ~/.openclaw/openclaw.json
```

---

### P0-2: ç¯å¢ƒå˜é‡æ–‡ä»¶ä½ç½®

**é—®é¢˜**: ç¯å¢ƒå˜é‡æ–‡ä»¶åº”æ”¾åœ¨å®˜æ–¹æ ‡å‡†ä½ç½®

**å½“å‰**: æœªæ˜ç¡®æŒ‡å®š
**å®˜æ–¹æ ‡å‡†**: `~/.openclaw/.env`

**ä¿®æ”¹ä½ç½®**: `setup_environment_variables()` å‡½æ•°

**å®æ–½æ­¥éª¤**:
```bash
# åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶
cat > ~/.openclaw/.env <<EOF
# AI Providers
ANTHROPIC_API_KEY=xxx
OPENAI_API_KEY=xxx

# Channels
TELEGRAM_BOT_TOKEN=xxx

# Gateway
OPENCLAW_GATEWAY_TOKEN=xxx
EOF

chmod 600 ~/.openclaw/.env
```

**éªŒè¯æ–¹æ³•**:
```bash
ls -la ~/.openclaw/.env
cat ~/.openclaw/.env
```

---

### P0-3: å·¥ä½œåŒºä½ç½®æ ‡å‡†åŒ–

**é—®é¢˜**: å·¥ä½œåŒºä½ç½®åº”ä½¿ç”¨å®˜æ–¹æ ‡å‡†

**å½“å‰**: `/home/openclaw/openclaw-bot`
**å®˜æ–¹æ ‡å‡†**: `~/.openclaw/workspace`

**å½±å“èŒƒå›´**:
- `install.sh` ä¸­çš„ `WORKSPACE_DIR` å˜é‡
- é…ç½®æ–‡ä»¶ä¸­çš„ `agents.defaults.workspace`

**ä¿®æ”¹ä½ç½®**:
```bash
# install.sh ç¬¬ 19 è¡Œ
WORKSPACE_DIR="/home/$OPENCLAW_USER/.openclaw/workspace"
```

**å®æ–½æ­¥éª¤**:
1. ä¿®æ”¹å…¨å±€å˜é‡
2. æ›´æ–°æ‰€æœ‰å¼•ç”¨
3. æ›´æ–°é…ç½®ç”Ÿæˆé€»è¾‘

---

### P0-4: æ·»åŠ é…ç½®éªŒè¯

**é—®é¢˜**: ç¼ºå°‘å®˜æ–¹çš„ä¸¥æ ¼é…ç½®éªŒè¯

**å®˜æ–¹è¦æ±‚**: 
- æœªçŸ¥å­—æ®µ â†’ æ‹’ç»å¯åŠ¨
- ç±»å‹é”™è¯¯ â†’ æ‹’ç»å¯åŠ¨
- å¿…é¡»è¿è¡Œ `openclaw doctor`

**æ–°å¢å‡½æ•°**:
```bash
validate_config_strict() {
    local config_file="$1"
    
    log_info "è¿è¡Œå®˜æ–¹é…ç½®éªŒè¯..."
    
    # ä½¿ç”¨å®˜æ–¹ doctor å‘½ä»¤éªŒè¯
    if ! sudo -u "$OPENCLAW_USER" openclaw doctor 2>&1 | tee /tmp/openclaw_doctor.log; then
        log_error "é…ç½®éªŒè¯å¤±è´¥ï¼Œè¯¦æƒ…:"
        cat /tmp/openclaw_doctor.log
        
        # å°è¯•è‡ªåŠ¨ä¿®å¤
        log_info "å°è¯•è‡ªåŠ¨ä¿®å¤..."
        if sudo -u "$OPENCLAW_USER" openclaw doctor --fix; then
            log_ok "é…ç½®å·²è‡ªåŠ¨ä¿®å¤"
        else
            log_error "è‡ªåŠ¨ä¿®å¤å¤±è´¥ï¼Œéœ€è¦æ‰‹åŠ¨å¤„ç†"
            return 1
        fi
    fi
    
    log_ok "é…ç½®éªŒè¯é€šè¿‡"
}
```

**è°ƒç”¨ä½ç½®**: `setup_infrastructure()` å‡½æ•°ä¹‹å

---

### P0-5: æ¨¡å‹é…ç½®æ ‡å‡†åŒ–

**é—®é¢˜**: ç¼ºå°‘æ¨¡å‹åˆ«åå’Œå‚æ•°é…ç½®

**å®˜æ–¹æ ‡å‡†**:
```json
{
  "agents": {
    "defaults": {
      "models": {
        "anthropic/claude-opus-4-5": {
          "alias": "opus",
          "params": { "temperature": 0.6 }
        },
        "anthropic/claude-sonnet-4-5": {
          "alias": "sonnet"
        },
        "openai/gpt-5-mini": {
          "alias": "gpt-mini"
        }
      }
    }
  }
}
```

**å®æ–½æ­¥éª¤**:
1. åœ¨ `generate_smart_config()` ä¸­æ·»åŠ  models é…ç½®
2. æ ¹æ®æ£€æµ‹åˆ°çš„ API Key æ·»åŠ å¯¹åº” provider
3. è®¾ç½®åˆç†çš„åˆ«å

---

### P0-6: å‘½ä»¤è¡Œå·¥å…·åç§°ç¡®è®¤

**é—®é¢˜**: éœ€ç¡®è®¤ä½¿ç”¨ `openclaw` è¿˜æ˜¯ `openclaw-cn`

**å½“å‰**: ä½¿ç”¨ `openclaw`
**å®˜æ–¹**: 
- å›½é™…ç‰ˆ: `openclaw`
- ä¸­æ–‡ç‰ˆ: `openclaw-cn`

**å®æ–½æ­¥éª¤**:
1. ç¡®è®¤ç›®æ ‡ç”¨æˆ·ç¾¤ä½“
2. ç»Ÿä¸€æ‰€æœ‰è„šæœ¬ä¸­çš„å‘½ä»¤åç§°
3. æ›´æ–°æ–‡æ¡£

**å»ºè®®**: ä½¿ç”¨ `openclaw`ï¼ˆå›½é™…ç‰ˆï¼‰ï¼Œå…¼å®¹æ€§æ›´å¥½

---

## ğŸŸ¡ P1: å¼ºçƒˆæ¨èé¡¹ï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰

### P1-1: Session ç®¡ç†ä¼˜åŒ–

**ç›®æ ‡**: èŠ‚çœ 40-60% Token æˆæœ¬

**æ–°å¢åŠŸèƒ½**:
1. **è‡ªåŠ¨ Session é‡ç½®**
2. **Session å‹ç¼©å‘½ä»¤**
3. **Session å¤§å°ç›‘æ§**

**å®æ–½æ–¹æ¡ˆ**:

```bash
# æ–°å¢å‡½æ•°: setup_session_management()
setup_session_management() {
    local scripts_dir="/home/$OPENCLAW_USER/openclaw-scripts"
    
    # åˆ›å»º session ç®¡ç†è„šæœ¬
    cat > "$scripts_dir/session-manager.sh" <<'EOF'
#!/bin/bash
# Session ç®¡ç†è„šæœ¬

OPENCLAW_USER="${OPENCLAW_USER:-openclaw}"
SESSION_DIR="/home/$OPENCLAW_USER/.openclaw/agents/main/sessions"
MAX_SESSION_SIZE_MB=50

# æ£€æŸ¥ session å¤§å°
check_session_size() {
    local size=$(du -sm "$SESSION_DIR" 2>/dev/null | cut -f1)
    if [ "$size" -gt "$MAX_SESSION_SIZE_MB" ]; then
        echo "âš ï¸  Session è¿‡å¤§ (${size}MB)ï¼Œå»ºè®®é‡ç½®"
        return 1
    fi
    echo "âœ… Session å¤§å°æ­£å¸¸ (${size}MB)"
    return 0
}

# é‡ç½® session
reset_session() {
    echo "æ­£åœ¨é‡ç½® session..."
    rm -rf "$SESSION_DIR"/*.jsonl
    echo "âœ… Session å·²é‡ç½®"
}

# å‹ç¼© session
compact_session() {
    echo "æ­£åœ¨å‹ç¼© session..."
    sudo -u "$OPENCLAW_USER" openclaw /compact
    echo "âœ… Session å·²å‹ç¼©"
}

case "$1" in
    check)
        check_session_size
        ;;
    reset)
        reset_session
        ;;
    compact)
        compact_session
        ;;
    *)
        echo "ç”¨æ³•: $0 {check|reset|compact}"
        exit 1
        ;;
esac
EOF

    chmod +x "$scripts_dir/session-manager.sh"
    chown "$OPENCLAW_USER:$OPENCLAW_USER" "$scripts_dir/session-manager.sh"
    
    # æ·»åŠ åˆ° cronï¼ˆæ¯æ—¥æ£€æŸ¥ï¼‰
    (crontab -u "$OPENCLAW_USER" -l 2>/dev/null; echo "0 2 * * * $scripts_dir/session-manager.sh check") | crontab -u "$OPENCLAW_USER" -
    
    log_ok "Session ç®¡ç†å·²é…ç½®"
}
```

**é…ç½®ä¼˜åŒ–**:
```json
{
  "agents": {
    "defaults": {
      "contextTokens": 50000,
      "compaction": "aggressive"
    }
  }
}
```

---

### P1-2: æ™ºèƒ½æ¨¡å‹åˆ‡æ¢

**ç›®æ ‡**: èŠ‚çœ 50-80% Token æˆæœ¬

**å®æ–½æ–¹æ¡ˆ**:

```json
{
  "agents": {
    "defaults": {
      "model": {
        "primary": "anthropic/claude-sonnet-4-5",
        "fallbacks": [
          "anthropic/claude-haiku-4",
          "openai/gpt-5-mini"
        ]
      },
      "models": {
        "anthropic/claude-haiku-4": {
          "alias": "haiku",
          "params": { "temperature": 0.3 }
        },
        "anthropic/claude-sonnet-4-5": {
          "alias": "sonnet",
          "params": { "temperature": 0.6 }
        },
        "anthropic/claude-opus-4-5": {
          "alias": "opus",
          "params": { "temperature": 0.7 }
        }
      }
    }
  }
}
```

**ç”¨æˆ·æŒ‡å—**:
```markdown
# æ¨¡å‹é€‰æ‹©å»ºè®®
- ç®€å•æŸ¥è¯¢: /haiku
- å¤æ‚ä»»åŠ¡: /sonnet
- å…³é”®å†³ç­–: /opus
```

---

### P1-3: ç¼“å­˜ä¼˜åŒ–é…ç½®

**ç›®æ ‡**: èŠ‚çœ 30-50% Token æˆæœ¬

**å®æ–½æ–¹æ¡ˆ**:

```json
{
  "agents": {
    "defaults": {
      "cache-ttl": 3600,
      "temperature": 0.2,
      "heartbeat": {
        "every": "50m",
        "target": "last"
      }
    }
  }
}
```

**å…³é”®ç‚¹**:
- ä½æ¸©åº¦ï¼ˆ0.2ï¼‰æé«˜ç¼“å­˜å‘½ä¸­ç‡
- Heartbeat é—´éš”ï¼ˆ50åˆ†é’Ÿï¼‰< ç¼“å­˜ TTLï¼ˆ60åˆ†é’Ÿï¼‰

---

### P1-4: æœ¬åœ°æ¨¡å‹æ”¯æŒ

**ç›®æ ‡**: èŠ‚çœ 60-80% Token æˆæœ¬

**å®æ–½æ–¹æ¡ˆ**:

```bash
# æ£€æµ‹ Ollama
detect_ollama() {
    if command -v ollama &>/dev/null; then
        log_ok "æ£€æµ‹åˆ° Ollamaï¼Œå°†é…ç½®æœ¬åœ°æ¨¡å‹æ”¯æŒ"
        return 0
    fi
    return 1
}

# é…ç½®æœ¬åœ°æ¨¡å‹
configure_local_models() {
    if detect_ollama; then
        cat >> "$CONFIG_FILE" <<'EOF'
  "models": {
    "providers": {
      "ollama": {
        "baseUrl": "http://localhost:11434",
        "models": ["llama3.3", "qwen2.5"]
      }
    }
  }
EOF
    fi
}
```

**é…ç½®ç¤ºä¾‹**:
```json
{
  "models": {
    "providers": {
      "ollama": {
        "baseUrl": "http://localhost:11434",
        "models": ["llama3.3", "qwen2.5"]
      }
    }
  }
}
```

---

### P1-5: Heartbeat ä¼˜åŒ–

**ç›®æ ‡**: é¿å…ä¸å¿…è¦çš„ Token æ¶ˆè€—

**é—®é¢˜**: Heartbeat æ¯æ¬¡è§¦å‘éƒ½æ˜¯å®Œæ•´ API è°ƒç”¨

**å®æ–½æ–¹æ¡ˆ**:

```json
{
  "agents": {
    "defaults": {
      "heartbeat": {
        "every": "30m",
        "target": "last",
        "enabled": true
      }
    }
  }
}
```

**ç”¨æˆ·æŒ‡å—**:
```markdown
# Heartbeat é…ç½®å»ºè®®
- å¼€å‘ç¯å¢ƒ: ç¦ç”¨æˆ–è®¾ç½®ä¸º 60m
- ç”Ÿäº§ç¯å¢ƒ: 30mï¼ˆå¹³è¡¡å“åº”æ€§å’Œæˆæœ¬ï¼‰
- é«˜é¢‘åœºæ™¯: 15mï¼ˆä½†æˆæœ¬è¾ƒé«˜ï¼‰
```

---

## ğŸŸ¢ P2: å»ºè®®å®æ–½é¡¹ï¼ˆç”¨æˆ·ä½“éªŒï¼‰

### P2-1: Skills ç®¡ç†é›†æˆ

**ç›®æ ‡**: æ”¯æŒ ClawHub Skills å®‰è£…å’Œç®¡ç†

**å®æ–½æ–¹æ¡ˆ**:

```bash
# æ–°å¢å‡½æ•°: setup_skills_support()
setup_skills_support() {
    log_info "é…ç½® Skills æ”¯æŒ..."
    
    # åˆ›å»º skills ç›®å½•
    local skills_dir="/home/$OPENCLAW_USER/.openclaw/skills"
    mkdir -p "$skills_dir"
    chown -R "$OPENCLAW_USER:$OPENCLAW_USER" "$skills_dir"
    
    # å®‰è£… clawhub CLIï¼ˆå¦‚æœå¯ç”¨ï¼‰
    if command -v npm &>/dev/null; then
        sudo -u "$OPENCLAW_USER" npm install -g clawhub 2>/dev/null || true
    fi
    
    log_ok "Skills æ”¯æŒå·²é…ç½®"
}
```

**ç”¨æˆ·æŒ‡å—**:
```bash
# å®‰è£… Skill
clawhub install <skill-slug>

# æ›´æ–°æ‰€æœ‰ Skills
clawhub update --all

# æŸ¥çœ‹å·²å®‰è£… Skills
openclaw skills list
```

---

### P2-2: é…ç½®æ¨¡å—åŒ–æ”¯æŒ

**ç›®æ ‡**: æ”¯æŒ $include é…ç½®åˆ†ç¦»

**å®æ–½æ–¹æ¡ˆ**:

```bash
# åˆ›å»ºé…ç½®æ¨¡å—
setup_config_modules() {
    local config_dir="/home/$OPENCLAW_USER/.openclaw/config"
    mkdir -p "$config_dir"
    
    # models.json
    cat > "$config_dir/models.json" <<'EOF'
{
  "models": {
    "providers": {
      "anthropic": {
        "apiKey": "${ANTHROPIC_API_KEY}"
      },
      "openai": {
        "apiKey": "${OPENAI_API_KEY}"
      }
    }
  }
}
EOF

    # channels.json
    cat > "$config_dir/channels.json" <<'EOF'
{
  "channels": {
    "telegram": {
      "token": "${TELEGRAM_BOT_TOKEN}",
      "dmPolicy": "open"
    }
  }
}
EOF

    chown -R "$OPENCLAW_USER:$OPENCLAW_USER" "$config_dir"
}
```

**ä¸»é…ç½®æ–‡ä»¶**:
```json
{
  "$include": [
    "~/.openclaw/config/models.json",
    "~/.openclaw/config/channels.json"
  ],
  "agents": {
    "defaults": {
      "workspace": "~/.openclaw/workspace"
    }
  }
}
```

---

### P2-3: äº¤äº’å¼é…ç½®å‘å¯¼å¢å¼º

**ç›®æ ‡**: æä¾›æ›´å‹å¥½çš„é…ç½®ä½“éªŒ

**å®æ–½æ–¹æ¡ˆ**:

```bash
interactive_config_wizard_v2() {
    echo ""
    echo -e "${CYAN}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${NC}"
    echo -e "${CYAN}  OpenClaw é…ç½®å‘å¯¼ v2.0                                   ${NC}"
    echo -e "${CYAN}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${NC}"
    echo ""
    
    # 1. æ¨¡å‹é€‰æ‹©
    echo -e "${BOLD}æ­¥éª¤ 1/5: é€‰æ‹©ä¸»æ¨¡å‹${NC}"
    echo ""
    echo "æ¨èæ¨¡å‹:"
    echo "  1) Claude Sonnet 4.5 (æ¨èï¼Œå¹³è¡¡æ€§èƒ½å’Œæˆæœ¬)"
    echo "  2) Claude Haiku 4 (ç»æµå‹ï¼Œé€‚åˆç®€å•ä»»åŠ¡)"
    echo "  3) GPT-5 Mini (OpenAIï¼Œç»æµå‹)"
    echo "  4) è‡ªå®šä¹‰"
    echo ""
    read -p "é€‰æ‹© [1-4, é»˜è®¤: 1]: " model_choice
    
    case "$model_choice" in
        2) PRIMARY_MODEL="anthropic/claude-haiku-4" ;;
        3) PRIMARY_MODEL="openai/gpt-5-mini" ;;
        4) 
            read -p "è¯·è¾“å…¥æ¨¡å‹åç§°: " PRIMARY_MODEL
            ;;
        *)
            PRIMARY_MODEL="anthropic/claude-sonnet-4-5"
            ;;
    esac
    
    # 2. Token ä¼˜åŒ–
    echo ""
    echo -e "${BOLD}æ­¥éª¤ 2/5: Token ä¼˜åŒ–é…ç½®${NC}"
    echo ""
    echo "æ˜¯å¦å¯ç”¨ Token ä¼˜åŒ–?"
    echo "  - é™åˆ¶ä¸Šä¸‹æ–‡çª—å£ä¸º 50K"
    echo "  - å¯ç”¨ç§¯æå‹ç¼©"
    echo "  - é…ç½®ç¼“å­˜ä¼˜åŒ–"
    echo ""
    read -p "å¯ç”¨ä¼˜åŒ–? [Y/n]: " enable_optimization
    
    if [[ ! $enable_optimization =~ ^[Nn]$ ]]; then
        CONTEXT_TOKENS=50000
        COMPACTION="aggressive"
        CACHE_TTL=3600
        log_ok "Token ä¼˜åŒ–å·²å¯ç”¨"
    fi
    
    # 3. Heartbeat é…ç½®
    echo ""
    echo -e "${BOLD}æ­¥éª¤ 3/5: Heartbeat é…ç½®${NC}"
    echo ""
    echo "Heartbeat é—´éš” (åˆ†é’Ÿ):"
    echo "  1) 15 åˆ†é’Ÿ (é«˜é¢‘ï¼Œæˆæœ¬è¾ƒé«˜)"
    echo "  2) 30 åˆ†é’Ÿ (æ¨è)"
    echo "  3) 60 åˆ†é’Ÿ (ä½é¢‘)"
    echo "  4) ç¦ç”¨"
    echo ""
    read -p "é€‰æ‹© [1-4, é»˜è®¤: 2]: " heartbeat_choice
    
    case "$heartbeat_choice" in
        1) HEARTBEAT_INTERVAL="15m" ;;
        3) HEARTBEAT_INTERVAL="60m" ;;
        4) HEARTBEAT_ENABLED=false ;;
        *) HEARTBEAT_INTERVAL="30m" ;;
    esac
    
    # 4. é¢‘é“é…ç½®
    echo ""
    echo -e "${BOLD}æ­¥éª¤ 4/5: é¢‘é“é…ç½®${NC}"
    echo ""
    # ... (ä¿ç•™åŸæœ‰é€»è¾‘)
    
    # 5. æœ¬åœ°æ¨¡å‹
    echo ""
    echo -e "${BOLD}æ­¥éª¤ 5/5: æœ¬åœ°æ¨¡å‹æ”¯æŒ${NC}"
    echo ""
    if detect_ollama; then
        echo "æ£€æµ‹åˆ° Ollamaï¼Œæ˜¯å¦é…ç½®æœ¬åœ°æ¨¡å‹æ”¯æŒ?"
        read -p "[Y/n]: " enable_ollama
        if [[ ! $enable_ollama =~ ^[Nn]$ ]]; then
            ENABLE_OLLAMA=true
        fi
    fi
    
    echo ""
    log_ok "é…ç½®å‘å¯¼å®Œæˆ"
}
```

---

## ğŸ”µ P3: å¯é€‰å¢å¼ºé¡¹

### P3-1: å¤š Agent è·¯ç”±æ”¯æŒ

**ç›®æ ‡**: æ”¯æŒå·¥ä½œåŒºéš”ç¦»

**å®æ–½æ–¹æ¡ˆ**:

```json
{
  "agents": {
    "list": [
      {
        "id": "main",
        "workspace": "~/.openclaw/workspaces/main",
        "model": {
          "primary": "anthropic/claude-sonnet-4-5"
        }
      },
      {
        "id": "work",
        "workspace": "~/.openclaw/workspaces/work",
        "model": {
          "primary": "anthropic/claude-haiku-4"
        }
      }
    ]
  }
}
```

---

## ğŸ“‹ å®æ–½ä¼˜å…ˆçº§çŸ©é˜µ

| ä¼˜åŒ–é¡¹ | ä¼˜å…ˆçº§ | å½±å“èŒƒå›´ | å®æ–½éš¾åº¦ | é¢„è®¡æ”¶ç›Š |
|--------|--------|----------|----------|----------|
| P0-1: é…ç½®ç»“æ„ä¿®æ­£ | P0 | æ ¸å¿ƒ | ä¸­ | å¿…é¡» |
| P0-2: ç¯å¢ƒå˜é‡ä½ç½® | P0 | æ ¸å¿ƒ | ä½ | å¿…é¡» |
| P0-3: å·¥ä½œåŒºæ ‡å‡†åŒ– | P0 | æ ¸å¿ƒ | ä½ | å¿…é¡» |
| P0-4: é…ç½®éªŒè¯ | P0 | æ ¸å¿ƒ | ä¸­ | å¿…é¡» |
| P0-5: æ¨¡å‹é…ç½® | P0 | æ ¸å¿ƒ | ä¸­ | å¿…é¡» |
| P0-6: å‘½ä»¤åç§° | P0 | å…¨å±€ | ä½ | å¿…é¡» |
| P1-1: Session ç®¡ç† | P1 | æ€§èƒ½ | ä¸­ | 40-60% |
| P1-2: æ¨¡å‹åˆ‡æ¢ | P1 | æˆæœ¬ | ä½ | 50-80% |
| P1-3: ç¼“å­˜ä¼˜åŒ– | P1 | æˆæœ¬ | ä½ | 30-50% |
| P1-4: æœ¬åœ°æ¨¡å‹ | P1 | æˆæœ¬ | ä¸­ | 60-80% |
| P1-5: Heartbeat ä¼˜åŒ– | P1 | æˆæœ¬ | ä½ | 20-40% |
| P2-1: Skills ç®¡ç† | P2 | åŠŸèƒ½ | ä¸­ | ç”¨æˆ·ä½“éªŒ |
| P2-2: é…ç½®æ¨¡å—åŒ– | P2 | ç»´æŠ¤ | ä¸­ | å¯ç»´æŠ¤æ€§ |
| P2-3: å‘å¯¼å¢å¼º | P2 | ä½“éªŒ | é«˜ | ç”¨æˆ·ä½“éªŒ |
| P3-1: å¤š Agent | P3 | é«˜çº§ | é«˜ | é«˜çº§ç”¨æˆ· |

---

## ğŸ¯ å®æ–½è·¯çº¿å›¾

### ç¬¬ä¸€é˜¶æ®µ: æ ¸å¿ƒä¿®æ­£ï¼ˆ1-2 å¤©ï¼‰

**ç›®æ ‡**: ä¿®æ­£æ‰€æœ‰ P0 é¡¹ï¼Œç¡®ä¿é…ç½®ç¬¦åˆå®˜æ–¹æ ‡å‡†

**ä»»åŠ¡æ¸…å•**:
- [ ] P0-1: ä¿®æ­£é…ç½®æ–‡ä»¶ç»“æ„
- [ ] P0-2: ç¯å¢ƒå˜é‡æ–‡ä»¶ä½ç½®
- [ ] P0-3: å·¥ä½œåŒºä½ç½®æ ‡å‡†åŒ–
- [ ] P0-4: æ·»åŠ é…ç½®éªŒè¯
- [ ] P0-5: æ¨¡å‹é…ç½®æ ‡å‡†åŒ–
- [ ] P0-6: ç¡®è®¤å‘½ä»¤è¡Œå·¥å…·åç§°

**éªŒè¯æ ‡å‡†**:
```bash
# 1. é…ç½®éªŒè¯é€šè¿‡
openclaw doctor

# 2. æœåŠ¡æ­£å¸¸å¯åŠ¨
openclaw gateway status

# 3. é…ç½®æ–‡ä»¶æ ¼å¼æ­£ç¡®
jq . ~/.openclaw/openclaw.json
```

---

### ç¬¬äºŒé˜¶æ®µ: æ€§èƒ½ä¼˜åŒ–ï¼ˆ2-3 å¤©ï¼‰

**ç›®æ ‡**: å®æ–½æ‰€æœ‰ P1 é¡¹ï¼Œå¤§å¹…é™ä½ Token æˆæœ¬

**ä»»åŠ¡æ¸…å•**:
- [ ] P1-1: Session ç®¡ç†ä¼˜åŒ–
- [ ] P1-2: æ™ºèƒ½æ¨¡å‹åˆ‡æ¢
- [ ] P1-3: ç¼“å­˜ä¼˜åŒ–é…ç½®
- [ ] P1-4: æœ¬åœ°æ¨¡å‹æ”¯æŒ
- [ ] P1-5: Heartbeat ä¼˜åŒ–

**éªŒè¯æ ‡å‡†**:
```bash
# 1. Session å¤§å°ç›‘æ§
./openclaw-scripts/session-manager.sh check

# 2. æ¨¡å‹åˆ‡æ¢æµ‹è¯•
openclaw /haiku "test"
openclaw /sonnet "test"

# 3. ç¼“å­˜å‘½ä¸­ç‡ç›‘æ§
openclaw /status
```

---

### ç¬¬ä¸‰é˜¶æ®µ: ä½“éªŒå¢å¼ºï¼ˆ3-5 å¤©ï¼‰

**ç›®æ ‡**: å®æ–½ P2 é¡¹ï¼Œæå‡ç”¨æˆ·ä½“éªŒ

**ä»»åŠ¡æ¸…å•**:
- [ ] P2-1: Skills ç®¡ç†é›†æˆ
- [ ] P2-2: é…ç½®æ¨¡å—åŒ–æ”¯æŒ
- [ ] P2-3: äº¤äº’å¼é…ç½®å‘å¯¼å¢å¼º

**éªŒè¯æ ‡å‡†**:
```bash
# 1. Skills å®‰è£…æµ‹è¯•
clawhub install test-skill

# 2. é…ç½®æ¨¡å—åŒ–æµ‹è¯•
jq . ~/.openclaw/config/models.json

# 3. å‘å¯¼æµ‹è¯•
bash install.sh
```

---

### ç¬¬å››é˜¶æ®µ: é«˜çº§åŠŸèƒ½ï¼ˆå¯é€‰ï¼‰

**ç›®æ ‡**: å®æ–½ P3 é¡¹ï¼Œæ”¯æŒé«˜çº§ç”¨æˆ·

**ä»»åŠ¡æ¸…å•**:
- [ ] P3-1: å¤š Agent è·¯ç”±æ”¯æŒ

---

## ğŸ“ å®æ–½å‰æ£€æŸ¥æ¸…å•

### ç¯å¢ƒå‡†å¤‡
- [ ] å¤‡ä»½ç°æœ‰ `install.sh`
- [ ] å¤‡ä»½ç°æœ‰é…ç½®æ–‡ä»¶
- [ ] å‡†å¤‡æµ‹è¯•ç¯å¢ƒï¼ˆDocker/VMï¼‰
- [ ] é˜…è¯»å®˜æ–¹æ–‡æ¡£

### å·¥å…·å‡†å¤‡
- [ ] å®‰è£… `jq` (JSON å¤„ç†)
- [ ] å®‰è£… `openclaw` CLI
- [ ] é…ç½®æµ‹è¯• API Key
- [ ] å‡†å¤‡æµ‹è¯•æ•°æ®

### æ–‡æ¡£å‡†å¤‡
- [ ] é˜…è¯» `å®˜æ–¹æ–‡æ¡£æ ¸å¿ƒè¦ç‚¹.md`
- [ ] é˜…è¯» `æ™ºèƒ½ä¼˜åŒ–æ–¹æ¡ˆ.md`
- [ ] å‡†å¤‡å®æ–½æ—¥å¿—æ¨¡æ¿

---

## âœ… éªŒè¯æ¸…å•

### é…ç½®éªŒè¯
- [ ] `openclaw doctor` æ— é”™è¯¯
- [ ] `jq . ~/.openclaw/openclaw.json` æ ¼å¼æ­£ç¡®
- [ ] æ‰€æœ‰ç¯å¢ƒå˜é‡æ­£ç¡®è®¾ç½®
- [ ] é…ç½®æ–‡ä»¶æƒé™æ­£ç¡® (600)

### åŠŸèƒ½éªŒè¯
- [ ] æœåŠ¡æ­£å¸¸å¯åŠ¨
- [ ] Gateway å¯è®¿é—®
- [ ] é¢‘é“è¿æ¥æ­£å¸¸
- [ ] æ¨¡å‹åˆ‡æ¢æ­£å¸¸
- [ ] Session ç®¡ç†æ­£å¸¸

### æ€§èƒ½éªŒè¯
- [ ] Token æ¶ˆè€—é™ä½ 40%+
- [ ] Session å¤§å°å¯æ§
- [ ] ç¼“å­˜å‘½ä¸­ç‡ > 50%
- [ ] Heartbeat é—´éš”åˆç†

---

## ğŸ“Š æˆåŠŸæŒ‡æ ‡

### æŠ€æœ¯æŒ‡æ ‡
- **é…ç½®éªŒè¯**: 100% é€šè¿‡ `openclaw doctor`
- **Token ä¼˜åŒ–**: é™ä½ 40-60% æˆæœ¬
- **å¯åŠ¨æˆåŠŸç‡**: 100%
- **é…ç½®æ­£ç¡®ç‡**: 100%

### ç”¨æˆ·ä½“éªŒæŒ‡æ ‡
- **å®‰è£…æ—¶é—´**: < 10 åˆ†é’Ÿ
- **é…ç½®æ—¶é—´**: < 5 åˆ†é’Ÿ
- **æ–‡æ¡£å®Œæ•´æ€§**: 100%
- **é”™è¯¯ç‡**: < 5%

---

## ğŸ”§ æ•…éšœæ’æŸ¥

### å¸¸è§é—®é¢˜

**é—®é¢˜ 1: `openclaw doctor` æŠ¥é”™**
```bash
# è§£å†³æ–¹æ¡ˆ
openclaw doctor --fix
```

**é—®é¢˜ 2: é…ç½®æ–‡ä»¶æ ¼å¼é”™è¯¯**
```bash
# éªŒè¯ JSON
jq . ~/.openclaw/openclaw.json

# æŸ¥çœ‹è¯¦ç»†é”™è¯¯
openclaw gateway --verbose
```

**é—®é¢˜ 3: ç¯å¢ƒå˜é‡æœªç”Ÿæ•ˆ**
```bash
# æ£€æŸ¥ç¯å¢ƒå˜é‡
cat ~/.openclaw/.env

# é‡æ–°åŠ è½½
source ~/.openclaw/.env
```

**é—®é¢˜ 4: æœåŠ¡å¯åŠ¨å¤±è´¥**
```bash
# æŸ¥çœ‹æ—¥å¿—
openclaw logs

# æ£€æŸ¥çŠ¶æ€
systemctl status openclaw
```

---

## ğŸ“ æ”¯æŒèµ„æº

### å®˜æ–¹æ–‡æ¡£
- https://docs.openclaw.ai/
- https://clawd.org.cn/

### ç¤¾åŒºèµ„æº
- GitHub Issues
- Reddit: r/ThinkingDeeplyAI
- Discord ç¤¾åŒº

### æœ¬åœ°æ–‡æ¡£
- `å®˜æ–¹æ–‡æ¡£æ ¸å¿ƒè¦ç‚¹.md`
- `æ™ºèƒ½ä¼˜åŒ–æ–¹æ¡ˆ.md`
- `å®æ–½æŒ‡å—.md`

---

## ğŸ¯ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### ç«‹å³æ‰§è¡Œ
1. âœ… é˜…è¯»æœ¬æ¸…å•
2. â³ å¤‡ä»½ç°æœ‰æ–‡ä»¶
3. â³ å®æ–½ P0 é¡¹ï¼ˆç¬¬ä¸€é˜¶æ®µï¼‰
4. â³ éªŒè¯é…ç½®

### åç»­è®¡åˆ’
1. â³ å®æ–½ P1 é¡¹ï¼ˆç¬¬äºŒé˜¶æ®µï¼‰
2. â³ å®æ–½ P2 é¡¹ï¼ˆç¬¬ä¸‰é˜¶æ®µï¼‰
3. â³ æ€§èƒ½æµ‹è¯•å’Œä¼˜åŒ–
4. â³ æ–‡æ¡£æ›´æ–°

---

**æ¸…å•ç»“æŸ** - å‡†å¤‡å¼€å§‹å®æ–½ï¼ğŸš€
